---
title: 'Quickstart'
description: 'Get started with PocketSync in your application'
---

## Installation

Get started with PocketSync by installing the required packages:

```yaml
dependencies:
  pocketsync_flutter: ^0.0.10
```

Or install via command line:

```bash
flutter pub add pocketsync_flutter
```

## Basic Setup

### Initialize PocketSync

1. Create an account at [pocketsync.dev](https://pocketsync.dev)
2. Create a new project in the PocketSync console
3. Initialize PocketSync in your app:

```dart
import 'package:pocketsync_flutter/pocketsync_flutter.dart';
import 'package:path/path.dart';
import 'package:path_provider/path_provider.dart';

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  final dbPath = join(await getDatabasesPath(), 'my_app.db');
  
  try {
    await PocketSync.instance.initialize(
      dbPath: dbPath,
      options: PocketSyncOptions(
        projectId: 'your-project-id',
        authToken: 'your-auth-token',
        serverUrl: 'https://api.pocketsync.dev',
      ),
      databaseOptions: databaseOptions,
    );

    await PocketSync.instance.setUserId(userId: 'user-123');
    await PocketSync.instance.start();
  } catch (e) {
    print('Failed to initialize PocketSync: $e');
  }
}
```

### Configure Database

PocketSync uses SQLite for local storage. When designing your database schema, it's crucial to use UUIDs (or similar globally unique identifiers) instead of auto-incrementing integer IDs for your primary keys:

```dart
// In your database initialization
final databaseOptions = DatabaseOptions(
  version: 1,
  onCreate: (db, version) async {
    await db.execute('''
      CREATE TABLE todos (
        id TEXT PRIMARY KEY NOT NULL,  // UUID as primary key
        title TEXT NOT NULL,
        is_completed INTEGER NOT NULL DEFAULT 0,
        created_at INTEGER NOT NULL,
        updated_at INTEGER NOT NULL
      )
    ''');
  },
);
```

## Basic Usage

### Working with Data

PocketSyncDatabase is a wrapper around the `sqflite` package, providing additional features for syncing data across devices:

```dart
import 'package:uuid/uuid.dart';

final db = PocketSync.instance.database;

// Create
await db.insert('todos', {
  'id': const Uuid().v4(),  // Generate a unique UUID
  'title': 'Buy groceries',
  'is_completed': 0,
  'created_at': DateTime.now().millisecondsSinceEpoch,
  'updated_at': DateTime.now().millisecondsSinceEpoch,
});

// Read
final todos = await db.query('todos',
  where: 'is_completed = ?',
  whereArgs: [0],
);

// Update
await db.update('todos',
  {'is_completed': 1},
  where: 'id = ?',
  whereArgs: ['todo-123'],
);

// Delete
await db.delete('todos',
  where: 'id = ?',
  whereArgs: ['todo-123'],
);
```

### Watch for Changes

Monitor database changes in real-time with the watch API:

```dart
// Watch all todos
final todosStream = db.watch('SELECT * FROM todos');

// Use in StreamBuilder
StreamBuilder<List<Map<String, dynamic>>>(
  stream: todosStream,
  builder: (context, snapshot) {
    if (snapshot.hasData) {
      return ListView.builder(
        itemCount: snapshot.data!.length,
        itemBuilder: (context, index) => TodoItem(todo: snapshot.data![index]),
      );
    }
    return const CircularProgressIndicator();
  },
);
```

### Sync Management

Control the synchronization process:

```dart
// Start sync
await PocketSync.instance.start();

// Pause sync
await PocketSync.instance.pause();

// Clean up resources
await PocketSync.instance.dispose();
```

## Error Handling

```dart
try {
  // Your sync operations
} on NetworkError catch (e) {
  print('Network error: ${e.message}');
} on DatabaseError catch (e) {
  print('Database error: ${e.message}');
} on ConflictError catch (e) {
  print('Conflict error: ${e.message}');
} on SyncError catch (e) {
  print('General sync error: ${e.message}');
}
```

## Next Steps

<CardGroup cols={2}>
  <Card
    title="API Reference"
    icon="code"
    href="/api-reference/introduction"
  >
    Explore the complete API documentation
  </Card>
  <Card
    title="Advanced Features"
    icon="wand-magic-sparkles"
    href="/advanced-features"
  >
    Learn about conflict resolution and advanced sync options
  </Card>
</CardGroup>
